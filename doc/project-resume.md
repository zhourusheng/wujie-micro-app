# 企业级微前端架构平台

## 项目简介

基于 wujie 微前端框架构建的企业级后台管理平台，通过完善的统一认证中心 + 状态共享机制，系统性解决了微前端架构中的关键技术难题：跨框架通信、状态同步、权限控制和性能优化。项目采用多技术栈并存模式（Vue3 + React18 + Vue2），既保障了技术迁移的平滑性，又为团队提供了技术选型自由度。

技术栈：wujie 微前端框架、Vue3/React18/Vue2 多技术栈、TypeScript、Vite 构建工具、JWT 认证、Docker 容器化。

## 主要工作

### 一、微前端架构设计与技术选型

- **核心框架：** 基于 wujie 微前端框架实现 3 个子应用的无侵入接入，支持 Vue3/React18/Vue2 多技术栈并存，通过沙箱隔离确保应用间互不干扰。
- **状态管理：** 设计跨应用状态共享机制，主应用使用 Pinia 管理全局状态，通过事件总线（EventBus）实现子应用间的类型安全通信。
- **路由设计：** 实现主子应用路由联动，主应用采用通配符路由捕获子应用路径，React 子应用根据运行环境选择 BrowserRouter 或 MemoryRouter，Vue 子应用通过动态 base path 避免路由冲突。

### 二、统一认证中心与权限体系

- **SSO 单点登录：** 实现了完整的基于 JWT + 事件总线的微前端 SSO 方案，通过双重认证传递机制（Props 注入 + 事件通信）确保认证状态的实时同步和容错处理。
- **RBAC 权限控制：** 构建细粒度权限体系，支持菜单级、路由级、按钮级权限控制，通过认证守卫（Auth Guard）确保权限验证的一致性。
- **兼容独立运行：** 子应用支持独立开发和部署模式，通过环境检测自动切换认证策略，开发效率提升 60%。

### 三、性能优化与工程化建设

- **智能预加载策略：** 基于用户行为分析的预加载算法，统计应用访问频次并动态调整预加载优先级，子应用切换响应时间从 800ms 降至 200ms。
- **构建优化：** 通过 Vite 配置优化和代码分割策略，整体构建时间减少 45%，主包体积压缩 35%。
- **模块联邦集成：** 实现运行时依赖共享，Vue、React 等公共库提取为 External，子应用间共享基础依赖，内存占用减少 40%。

### 四、核心业务与复杂场景处理

- **多技术栈通信：** 设计类型安全的通信协议，封装跨框架组件（Vue ↔ React），解决不同技术栈间的数据传递和事件同步难题。
- **生命周期管理：** 实现完整的子应用生命周期钩子（beforeLoad/beforeMount/afterMount），支持应用保活（keep-alive）和按需销毁策略。
- **异常处理与监控：** 建立全链路错误监控体系，通过事件总线统一收集子应用异常，配合性能监控实现应用健康状态的实时追踪。

### 五、开发体验与运维保障

- **统一启动脚本：** 开发多应用并行启动工具，支持日志前缀区分和错误隔离，本地开发环境搭建时间从 15 分钟缩短至 2 分钟。
- **调试工具：** 开发微前端专用调试面板（Ctrl+Shift+D 快捷键），实时显示事件通信、状态变更和性能指标，问题定位效率提升 80%。
- **CI/CD 优化：** 基于 Docker 容器化部署，配置 Nginx 反向代理支持子应用独立发布，实现真正的独立开发、独立部署，发布频率从周级提升至日级。
